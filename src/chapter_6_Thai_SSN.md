# 06-Thailans_SSN

การเปลี่ยนเลขประจำตัวบัตรประชาชน เพื่อปกปิดเลขประจำตัวเดิมเพื่อเพิ่มความเป็นส่วนตัวกับผู้ใช้งาน 

## Table content


      
## Logic ของเลขประจำตัวประชาชน คนไทย

 Percona นั้นไม่มีระบบรองรับสิ่งที่เราทำได้คือการใช้ Load Dictionary แต่สิ่งที่เราต้องการคือ เลขประจำตัวบัตรประชาชนที่ถ้าเช็คแล้วยังคงถูกต้องอยู่ โดยเลขบัตรประชาชนนั้นมีสูตรที่ใช้คิดหาอยู่ 
 
 เลขประจำตัวบัตรประชาชน จะประกอบไปด้วย ตัวเลขทั้งหมด 13 ตัวเลข
อย่างแรกที่เราต้องทำความรู้จักคือ ตัวเลขหลักแรกก่อนว่ามีความหมายอะไรบ้าง

เลข 1 : คือคนที่เกิดและมีสัญชาติเป็นคนไหน และแจ้งเกิดภายในกำหนดเวลา คือภายใน 15 วันนับแต่เกิดตามที่กฎหมายกำหนด

เลข 2 : คือคนที่เกิดและมีสัญชาติไทย แต่แจ้งเกิดเกินกำหนดเวลาที่กำหนด คือไม่ได้แจ้งเกิดภายใน 15 วันนับแต่เกิดตามที่กฎหมายกำหนด

เลข 3 : คือคนไทยและคนต่างด้าวที่มีใบสำคัญประจำตัวคนต่างด้าว และมีชื่อในทะเบียนบ้านสมัยเริ่มแรก

เลข 4 : คือคนไทยและคนต่างด้าวที่มีใบสำคัญต่างด้าว แต่แจ้งย้ายเข้าโดยยังไม่มีเลขประจำตัวประชาชนตั้งแต่เริ่มแรก

เลข 5 : คือคนไทยที่ได้รับอนุมัติให้เพิ่มชื่อเข้าไปในทะเบียนบ้านจากการตกสำรวจ หรือเป็นกรณีที่มี 2 สัญชาติ

เลข 6 : คือคนที่ไม่ได้เข้าเมืองมาตามกฎหมาย หรือคนที่เข้าเมืองมาตามกฎหมายก็จริงแต่ยังไม่ได้สัญชาติไทยหรืออยู่ในลักษณะชั่วคราว

เลข 7 : คือบุตรของบุคคลประเภทที่ 6 ที่เกิดในประเทศไทย

เลข 8 : คือคนต่างด้าวที่อาศัยอยู่ในประเทศไทยอย่างถูกต้องตามกฎหมาย คนที่ได้รับใบสำคัญประจำตัวคนต่างด้าวหรือได้รับการแปลงสัญชาติเป็นสัญชาติไทยแล้ว 

เพราะฉะนั้นเลขแรกจะมีได้แค่ 8 ตัวเท่านั้น คือ 1 จนถึง 8 

## การทำงานของ การสุ่ม บัตรประจำตัวประชาชนประเทศไทย

เราจะนำตัวเลข 12 ตัวแรก มาเข้าสมการแล้วต้องออกมาได้ค่าเท่ากับเลขข้างหลัง 

โดยทุกตัวเลขจะตั้งคูณเลขประจำตำแหน่ง

ตัวอย่างเลข 1-2345-67890-12-1

1. นำไปคูณเลขประจำตำแหน่ง : (1*13)+(2*12)+(3*11)+(4*10)+(5*9)+(6*8)+(7*7)+(8*6)+(9*5)+(0*4)+(1*3)+(2*2) = 352
2. หารเอาเศษด้วย : 11 352/11= 0
3. นำ 11 ตั้งแล้วลบเศษที่ได้จากการหารในข้อ 2 : 11 – 0 = 11 (เอาเลขหลักหน่วย) ดังนั้น Check Digit คือ 1
4. จะได้ : 1-2345-67890-12-1

จะเห็นได้ว่าเลขตัวสุดท้ายนั้นมีค่าที่ตรงกันกับ ตัวเลขที่เราคิดออกมา คือ 1

แต่หากต้องการข้อมูลจำนวนเยอะๆ การสุ่มจากในเว็บคงไม่ใช่ทางออกหากต้องการข้อมูลตัวอย่างประมาณ 10,000 ตัวขึ้นไป เราจึงสร้าง คำสั่งเพื่อสุ่มเลขประจำตัวประชาชนขึ้นมา ที่สามารถใส่จำนวนที่ต้องการได้

และให้ทำลงใน ไฟล์ text เพื่อนำมาใช้งานได้ทันทีขึ้นมา

ref:https://www.wongnai.com/articles/meaning-of-id-card-number?ref=ct

## Thai SSN randomizer

คือคำสั่งที่ใช้เพื่อ สุ่มเลขบัตรประชาชนตามจำนวนที่เราต้องการ ให้อยู่ในรูปแบบ text ไฟล์เพื่อสะดวกต่อการนำไปใช้ในการทำ data masking

```bash
import random

def generate_random_thai_citizen_id():
   thai_citizen_id = []


   # The first digit should be between 1 and 8.
   thai_citizen_id.append(str(random.randint(1, 8)))


   # The following 11 digits can be any number between 0 and 9.
   for _ in range(11):
       thai_citizen_id.append(str(random.randint(0, 9)))


   # The last digit is a checksum calculated based on the previous 12 digits.
   last_digit = calculate_checksum(thai_citizen_id)
   thai_citizen_id.append(str(last_digit))


   return "".join(thai_citizen_id)


def calculate_checksum(id_digits):
   total = sum(int(id_digits[i]) * (13 - i) for i in range(len(id_digits)))
   checksum = (11 - (total % 11)) % 10
   return checksum

if __name__ == "__main__":
   # Generate 5 random Thai Citizen ID-like numbers
   generated_ids = []
   for _ in range(5):
       thai_id = generate_random_thai_citizen_id()
       generated_ids.append(thai_id)

   # Save the generated IDs to a text file
   with open("/your/path/file.txt", "w") as file:
       for thai_id in generated_ids:
           file.write(thai_id + "\n")
```
สิ่งที่ต้องแก้ในชุดคำสั่งนี้จะมี 

```bash
"/your/path/file.txt"
```
ที่อยู่ของไฟล์ที่ต้องการเขียนลง

```bash
for _ in range(5):
```
โดยเลข 5 คือจำนวนที่เราต้องการสุ่ม สามารถเปลี่ยนเป็นจำนวนอื่นๆได้ตามความเหมาะสม

โดย คำสั่งนี้จำประกอบไปด้วย การสุ่ม SSN ของไทย และ จบท้ายด้วยการเขียนลงไปใน Text ไฟล์ เพื่อให้พร้อมต่อการนำมาใช้กับ Dictionary ของ Percona 

